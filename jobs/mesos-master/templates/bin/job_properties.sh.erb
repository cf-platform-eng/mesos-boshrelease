#!/usr/bin/env bash

#
# Apache Mesos Master properties
#

# Directory to store the Apache Mesos Master configuration files
export MESOS_MASTER_CONF_DIR=$JOB_DIR/config

# Directory to store the Apache Mesos Master log files
export MESOS_MASTER_LOG_DIR=$LOG_DIR

# Directory to store the Apache Mesos Master process IDs
export MESOS_MASTER_PID_DIR=$RUN_DIR

# Directory to store the Apache Mesos Master data files
export MESOS_MASTER_STORE_DIR=$STORE_DIR

# Directory to store the Apache Mesos Master temp files
export MESOS_MASTER_TMP_DIR=$TMP_DIR

# User which will own the Apache Mesos Master services
export MESOS_MASTER_USER="<%= p('mesos.master.user') %>"

# Group which will own the Apache Mesos Master services
export MESOS_MASTER_GROUP="<%= p('mesos.master.group') %>"

# Apache Mesos Home directory
export MESOS_HOME=/var/vcap/packages/mesos

# Human readable name for the Apache Mesos cluster
export MESOS_CLUSTER_NAME="<%= p('mesos.cluster_name') %>"

# Amount of time to wait between performing (batch) allocations
export MESOS_MASTER_ALLOCATION_INTERVAL="<%= p('mesos.master.allocation_interval') %>"

# Only authenticated frameworks are allowed to register?
export MESOS_MASTER_AUTHENTICATE="<%= p('mesos.master.authenticate') %>"

# Policy to use for allocating resources between a given user's frameworks
export MESOS_MASTER_FRAMEWORK_SORTER="<%= p('mesos.master.framework_sorter') %>"

# IP address where Apache Mesos Master will listen on
export MESOS_MASTER_IP_ADDRESS="<%= p('mesos.master.listen_address') %>"

# How many seconds to buffer log messages for
export MESOS_MASTER_LOGBUFSECS="<%= p('mesos.master.logbufsecs') %>"

# Port where Apache Mesos Master will listen on
export MESOS_MASTER_PORT="<%= p('mesos.master.port') %>"

# A comma seperated list of the allocation roles that frameworks in this cluster may belong to
export MESOS_MASTER_ROLES="<%= p('mesos.master.roles') %>"

# Can root submit frameworks?
export MESOS_MASTER_ROOT_SUBMISSIONS="<%= p('mesos.master.root_submissions') %>"

# Policy to use for allocating resources between users
export MESOS_MASTER_USER_SORTER="<%= p('mesos.master.user_sorter') %>"

# A comma seperated list of role/weight pairs of the form 'role=weight,role=weight'
export MESOS_MASTER_WEIGHTS="<%= p('mesos.master.weights') %>"
